<div class="row">
  <div class="col-md-12 un-confirmation">
    <div *ngIf="!token; else pendingConfirmation">
      {{ 'Thank You for registration! Please check out your e-mail and click the confirmation link' | translate }}
    </div>
    <ng-template #pendingConfirmation>
      <div *ngIf="!confirmationError; else confirmationTokenError">
        <div *ngIf="action === 'confirmation'; else deleteAccount">
          <mat-progress-spinner
            color="primary"
            mode="indeterminate">
          </mat-progress-spinner>
          {{ 'Please wait for confirmation response' | translate }}
        </div>
        <ng-template #deleteAccount>
          {{ 'Are you sure, that you want to delete this account?' | translate }}
          <button mat-raised-button
                  [promiseBtn]="buttonPromise"
                  [matTooltip]="'Delete account' | translate"
                  (click)="deleteUserRegistration()">
            <i class="material-icons">delete</i>{{ 'Delete account' | translate }}
          </button>
        </ng-template>
      </div>
      <ng-template #confirmationTokenError>
        {{ 'Token is invalid or has expired' | translate }}
        {{ 'You can refresh token by clicking the button.' | translate }}
        <button mat-raised-button
                [promiseBtn]="buttonPromise"
                [matTooltip]="'Refresh token' | translate"
                (click)="refreshToken()">
          <i class="material-icons">refresh</i>{{ 'Refresh token' | translate }}
        </button>
      </ng-template>
    </ng-template>
  </div>
</div>
